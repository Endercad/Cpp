# C++20åç¨‹å®Œæ•´çŸ¥è¯†ä½“ç³»

## ğŸ“– ç›®å½•
1. [åç¨‹åŸºæœ¬æ¦‚å¿µ](#1-åç¨‹åŸºæœ¬æ¦‚å¿µ)
2. [åç¨‹ vs çº¿ç¨‹ vs è¿›ç¨‹](#2-åç¨‹-vs-çº¿ç¨‹-vs-è¿›ç¨‹)
3. [C++20åç¨‹ä¸‰å¤§å…³é”®å­—](#3-c20åç¨‹ä¸‰å¤§å…³é”®å­—)
4. [Boost.Asioåç¨‹æ ¸å¿ƒç»„ä»¶](#4-boostasioåç¨‹æ ¸å¿ƒç»„ä»¶)
5. [åç¨‹æ‰§è¡Œæµç¨‹åˆ†æ](#5-åç¨‹æ‰§è¡Œæµç¨‹åˆ†æ)
6. [åç¨‹çš„æ ¸å¿ƒä¼˜åŠ¿](#6-åç¨‹çš„æ ¸å¿ƒä¼˜åŠ¿)
7. [åç¨‹è°ƒåº¦æœºåˆ¶](#7-åç¨‹è°ƒåº¦æœºåˆ¶)
8. [åç¨‹åº”ç”¨åœºæ™¯](#8-åç¨‹åº”ç”¨åœºæ™¯)
9. [åç¨‹æœ€ä½³å®è·µ](#9-åç¨‹æœ€ä½³å®è·µ)
10. [åç¨‹æ€§èƒ½å¯¹æ¯”](#10-åç¨‹æ€§èƒ½å¯¹æ¯”)
11. [åç¨‹ï¼š"å¼‚æ­¥æ‰§è¡Œï¼ŒåŒæ­¥å†™æ³•"](#11-åç¨‹å¼‚æ­¥æ‰§è¡ŒåŒæ­¥å†™æ³•)

---

## 1. åç¨‹åŸºæœ¬æ¦‚å¿µ

### ä»€ä¹ˆæ˜¯åç¨‹ï¼Ÿ
- åç¨‹æ˜¯ä¸€ç§**è½»é‡çº§çš„çº¿ç¨‹**ï¼Œå¯ä»¥åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æš‚åœå’Œæ¢å¤
- åç¨‹æ˜¯**ç”¨æˆ·æ€çš„ä»»åŠ¡è°ƒåº¦**ï¼Œä¸éœ€è¦æ“ä½œç³»ç»Ÿå†…æ ¸å‚ä¸åˆ‡æ¢
- åç¨‹å¯ä»¥**ä¸»åŠ¨è®©å‡ºæ‰§è¡Œæƒ**ï¼Œå®ç°åä½œå¼å¤šä»»åŠ¡

### åç¨‹çš„æ ¸å¿ƒç‰¹ç‚¹
```cpp
// ä¼ ç»Ÿå¼‚æ­¥å›è°ƒæ–¹å¼
socket.async_read(buffer, [](error_code ec, size_t bytes) {
    if (!ec) {
        socket.async_write(buffer, [](error_code ec, size_t bytes) {
            // å›è°ƒåœ°ç‹±...
        });
    }
});

// åç¨‹æ–¹å¼ - åŒæ­¥å†™æ³•ï¼Œå¼‚æ­¥æ‰§è¡Œ
co_await socket.async_read(buffer, use_awaitable);
co_await socket.async_write(buffer, use_awaitable);
```

---

## 2. åç¨‹ vs çº¿ç¨‹ vs è¿›ç¨‹

| ç‰¹æ€§ | è¿›ç¨‹ | çº¿ç¨‹ | åç¨‹ |
|------|------|------|------|
| **å†…å­˜å¼€é”€** | å¾ˆå¤§(MBçº§) | è¾ƒå¤§(KBçº§) | å¾ˆå°(å­—èŠ‚çº§) |
| **åˆ›å»ºæˆæœ¬** | å¾ˆé«˜ | ä¸­ç­‰ | å¾ˆä½ |
| **åˆ‡æ¢æˆæœ¬** | å¾ˆé«˜ | ä¸­ç­‰ | å¾ˆä½ |
| **è°ƒåº¦æ–¹å¼** | æŠ¢å å¼ | æŠ¢å å¼ | åä½œå¼ |
| **å¹¶å‘æ•°é‡** | æœ‰é™ | æœ‰é™ | å¯è¾¾ç™¾ä¸‡çº§ |
| **åŒæ­¥æœºåˆ¶** | å¤æ‚ | å¤æ‚ | ç®€å• |

---

## 3. C++20åç¨‹ä¸‰å¤§å…³é”®å­—

### 3.1 `co_await` - ç­‰å¾…å¼‚æ­¥æ“ä½œ
```cpp
// æš‚åœå½“å‰åç¨‹ï¼Œç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆ
size_t bytes = co_await socket.async_read_some(buffer, use_awaitable);
// æ“ä½œå®Œæˆåï¼Œåç¨‹åœ¨æ­¤å¤„æ¢å¤æ‰§è¡Œ
```

### 3.2 `co_yield` - äº§ç”Ÿå€¼å¹¶æš‚åœ
```cpp
// ç”Ÿæˆå™¨åç¨‹ç¤ºä¾‹
generator<int> fibonacci() {
    int a = 0, b = 1;
    while (true) {
        co_yield a;  // äº§ç”Ÿå€¼å¹¶æš‚åœ
        auto temp = a + b;
        a = b;
        b = temp;
    }
}
```

### 3.3 `co_return` - åç¨‹è¿”å›
```cpp
awaitable<string> async_read_file(string filename) {
    // ... å¼‚æ­¥è¯»å–æ–‡ä»¶
    co_return file_content;  // åç¨‹è¿”å›å€¼
}
```

---

## 4. Boost.Asioåç¨‹æ ¸å¿ƒç»„ä»¶

### 4.1 `awaitable<T>` - åç¨‹è¿”å›ç±»å‹
```cpp
awaitable<void> server_coroutine();     // æ— è¿”å›å€¼åç¨‹
awaitable<string> read_coroutine();     // è¿”å›stringçš„åç¨‹
awaitable<size_t> write_coroutine();    // è¿”å›size_tçš„åç¨‹
```

### 4.2 `use_awaitable` - å®Œæˆä»¤ç‰Œ
```cpp
// å°†å¼‚æ­¥æ“ä½œè½¬æ¢ä¸ºå¯ç­‰å¾…çš„åç¨‹æ“ä½œ
co_await socket.async_connect(endpoint, use_awaitable);
co_await timer.async_wait(use_awaitable);
```

### 4.3 `co_spawn` - å¯åŠ¨åç¨‹
```cpp
// åœ¨io_contextä¸­å¯åŠ¨åç¨‹
co_spawn(io_context, my_coroutine(), detached);
co_spawn(executor, my_coroutine(), detached);
```

### 4.4 `detached` - åˆ†ç¦»åç¨‹
```cpp
// åç¨‹ç‹¬ç«‹è¿è¡Œï¼Œä¸ç­‰å¾…å…¶å®Œæˆ
co_spawn(io, listener_coroutine(), detached);
```

---

## 5. åç¨‹æ‰§è¡Œæµç¨‹åˆ†æ

ä»¥ä¸‹æ˜¯åŸºäºæˆ‘ä»¬çš„echoæœåŠ¡å™¨ä»£ç çš„åç¨‹æ‰§è¡Œæµç¨‹ï¼š

```cpp
// æ­¥éª¤1ï¼šä¸»çº¿ç¨‹å¯åŠ¨åç¨‹
int main(){
    boost::asio::io_context io_context; 
    co_spawn(io_context, listener(), detached);  // ğŸš€å¯åŠ¨listeneråç¨‹
    io_context.run();  // ğŸ“‹å¼€å§‹äº‹ä»¶å¾ªç¯
}

// æ­¥éª¤2ï¼šlisteneråç¨‹æ‰§è¡Œ
awaitable<void> listener(){
    auto executor = co_await this_coro::executor;  // ğŸ”„è·å–æ‰§è¡Œå™¨
    tcp::acceptor acceptor(executor, {tcp::v4(), 8848});
    
    for(;;){
        // ğŸ”´åç¨‹åœ¨æ­¤æš‚åœï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥
        tcp::socket socket = co_await acceptor.async_accept(use_awaitable);
        
        // âœ…è¿æ¥åˆ°è¾¾ï¼Œåç¨‹æ¢å¤ï¼Œåˆ›å»ºæ–°çš„echo_serveråç¨‹
        co_spawn(executor, echo_server(std::move(socket)), detached);
    }
}

// æ­¥éª¤3ï¼šecho_serveråç¨‹å¤„ç†å®¢æˆ·ç«¯
awaitable<void> echo_server(tcp::socket socket){
    for(;;){
        // ğŸ”´æš‚åœç­‰å¾…è¯»å–æ•°æ®
        size_t length = co_await socket.async_read_some(buffer, use_awaitable);
        
        // âœ…æ•°æ®åˆ°è¾¾ï¼Œåç¨‹æ¢å¤ï¼ŒğŸ”´å†æ¬¡æš‚åœç­‰å¾…å†™å…¥å®Œæˆ
        co_await boost::asio::async_write(socket, buffer, use_awaitable);
        
        // âœ…å†™å…¥å®Œæˆï¼Œåç¨‹æ¢å¤ï¼Œç»§ç»­ä¸‹æ¬¡å¾ªç¯
    }
}
```

---

## 6. åç¨‹çš„æ ¸å¿ƒä¼˜åŠ¿

### 6.1 æ€§èƒ½ä¼˜åŠ¿
```cpp
// ä¼ ç»Ÿæ–¹å¼ï¼šæ¯ä¸ªè¿æ¥ä¸€ä¸ªçº¿ç¨‹
void handle_client(tcp::socket socket) {
    // éœ€è¦8KBæ ˆç©ºé—´ + çº¿ç¨‹åˆ‡æ¢å¼€é”€
}

// åç¨‹æ–¹å¼ï¼šæ¯ä¸ªè¿æ¥ä¸€ä¸ªåç¨‹
awaitable<void> handle_client(tcp::socket socket) {
    // åªéœ€å‡ åå­—èŠ‚ + æä½åˆ‡æ¢å¼€é”€
}
```

### 6.2 ç¼–ç¨‹ç®€æ´æ€§
```cpp
// ä¼ ç»Ÿå›è°ƒæ–¹å¼ - å›è°ƒåœ°ç‹±
void start_read() {
    socket.async_read(buffer, [this](error_code ec, size_t bytes) {
        if (!ec) {
            process_data();
            start_write();
        }
    });
}

void start_write() {
    socket.async_write(response, [this](error_code ec, size_t bytes) {
        if (!ec) {
            start_read();  // ç»§ç»­è¯»å–
        }
    });
}

// åç¨‹æ–¹å¼ - åŒæ­¥é€»è¾‘
awaitable<void> handle_client() {
    for (;;) {
        size_t bytes = co_await socket.async_read(buffer, use_awaitable);
        process_data();
        co_await socket.async_write(response, use_awaitable);
    }
}
```

---

## 7. åç¨‹è°ƒåº¦æœºåˆ¶

### 7.1 åä½œå¼è°ƒåº¦
```cpp
awaitable<void> task1() {
    std::cout << "Task1 å¼€å§‹\n";
    co_await timer.async_wait(1s, use_awaitable);  // ğŸ”„ä¸»åŠ¨è®©å‡ºCPU
    std::cout << "Task1 æ¢å¤\n";
}

awaitable<void> task2() {
    std::cout << "Task2 å¼€å§‹\n";
    co_await timer.async_wait(500ms, use_awaitable);  // ğŸ”„ä¸»åŠ¨è®©å‡ºCPU
    std::cout << "Task2 æ¢å¤\n";
}

// æ‰§è¡Œé¡ºåºï¼šTask1å¼€å§‹ â†’ Task2å¼€å§‹ â†’ Task2æ¢å¤ â†’ Task1æ¢å¤
```

### 7.2 äº‹ä»¶é©±åŠ¨è°ƒåº¦
```cpp
// io_contextä½œä¸ºåç¨‹è°ƒåº¦å™¨
boost::asio::io_context io;

// å¯åŠ¨å¤šä¸ªåç¨‹
co_spawn(io, server_coroutine(), detached);
co_spawn(io, client_coroutine(), detached);
co_spawn(io, timer_coroutine(), detached);

// ç»Ÿä¸€è°ƒåº¦æ‰€æœ‰åç¨‹
io.run();  // ğŸ“‹äº‹ä»¶å¾ªç¯ï¼Œåç¨‹åœ¨æ­¤åˆ‡æ¢æ‰§è¡Œ
```

---

## 8. åç¨‹åº”ç”¨åœºæ™¯

### 8.1 ç½‘ç»œæœåŠ¡å™¨ â­â­â­â­â­
- **é«˜å¹¶å‘å¤„ç†**ï¼šæ”¯æŒç™¾ä¸‡çº§è¿æ¥
- **ç®€æ´çš„å¼‚æ­¥ç¼–ç¨‹**ï¼šé¿å…å›è°ƒåœ°ç‹±
- **èµ„æºé«˜æ•ˆåˆ©ç”¨**ï¼šæä½å†…å­˜å’ŒCPUå¼€é”€

### 8.2 å¼‚æ­¥I/Oå¯†é›†å‹åº”ç”¨ â­â­â­â­â­
```cpp
awaitable<string> read_multiple_files() {
    string result;
    
    // å¹¶å‘è¯»å–å¤šä¸ªæ–‡ä»¶
    auto file1 = co_spawn(executor, read_file("file1.txt"), use_awaitable);
    auto file2 = co_spawn(executor, read_file("file2.txt"), use_awaitable);
    auto file3 = co_spawn(executor, read_file("file3.txt"), use_awaitable);
    
    // ç­‰å¾…æ‰€æœ‰æ–‡ä»¶è¯»å–å®Œæˆ
    result += co_await file1;
    result += co_await file2;
    result += co_await file3;
    
    co_return result;
}
```

### 8.3 æ¸¸æˆæœåŠ¡å™¨ â­â­â­â­
```cpp
awaitable<void> game_session(tcp::socket socket) {
    while (player_online) {
        // å¤„ç†ç©å®¶æ¶ˆæ¯
        auto message = co_await receive_message(socket);
        
        // å¤„ç†æ¸¸æˆé€»è¾‘
        auto response = process_game_logic(message);
        
        // å‘é€å“åº”
        co_await send_message(socket, response);
    }
}
```

---

## 9. åç¨‹æœ€ä½³å®è·µ

### 9.1 å¼‚å¸¸å¤„ç†
```cpp
awaitable<void> robust_coroutine() {
    try {
        co_await risky_operation();
    } catch (const std::exception& e) {
        std::cerr << "åç¨‹å¼‚å¸¸: " << e.what() << std::endl;
        // åç¨‹å¼‚å¸¸ä¸ä¼šå½±å“å…¶ä»–åç¨‹
    }
}
```

### 9.2 èµ„æºç®¡ç†
```cpp
awaitable<void> resource_safe_coroutine() {
    auto socket = std::make_unique<tcp::socket>(executor);
    
    try {
        co_await socket->async_connect(endpoint, use_awaitable);
        // ä½¿ç”¨socket...
    } catch (...) {
        // socketè‡ªåŠ¨é‡Šæ”¾ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†
    }
    // RAIIç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾
}
```

---

## 10. åç¨‹æ€§èƒ½å¯¹æ¯”

| åœºæ™¯ | ä¼ ç»Ÿçº¿ç¨‹ | åç¨‹ | æ€§èƒ½æå‡ |
|------|----------|------|----------|
| **10Kè¿æ¥** | 80MBå†…å­˜ | 10MBå†…å­˜ | **8å€** |
| **100Kè¿æ¥** | 800MB+çº¿ç¨‹æ± é™åˆ¶ | 100MB | **8å€+æ— é™åˆ¶** |
| **ä¸Šä¸‹æ–‡åˆ‡æ¢** | å¾®ç§’çº§ | çº³ç§’çº§ | **1000å€** |
| **å¹¶å‘å¤„ç†** | å—çº¿ç¨‹æ•°é™åˆ¶ | è¿‘ä¹æ— é™åˆ¶ | **æ•°é‡çº§æå‡** |

---

## 11. åç¨‹ï¼š"å¼‚æ­¥æ‰§è¡Œï¼ŒåŒæ­¥å†™æ³•"

### 11.1 ä¼ ç»Ÿå¼‚æ­¥ vs åç¨‹å¯¹æ¯”

#### ä¼ ç»Ÿå¼‚æ­¥å›è°ƒæ–¹å¼ï¼š
```cpp
// ğŸ˜µ å¼‚æ­¥å›è°ƒ - å›è°ƒåœ°ç‹±
void handle_client_traditional(tcp::socket socket) {
    auto buffer = std::make_shared<std::array<char, 1024>>();
    
    // ç¬¬1æ­¥ï¼šå¼‚æ­¥è¯»å–
    socket.async_read_some(
        boost::asio::buffer(*buffer),
        [buffer, socket = std::move(socket)](error_code ec, size_t bytes) mutable {
            if (!ec) {
                // ç¬¬2æ­¥ï¼šå¼‚æ­¥å†™å…¥
                boost::asio::async_write(
                    socket,
                    boost::asio::buffer(*buffer, bytes),
                    [buffer](error_code ec, size_t bytes) {
                        if (!ec) {
                            // ç¬¬3æ­¥ï¼šç»§ç»­è¯»å–... å›è°ƒåµŒå¥—æ— ç©·æ— å°½
                            // è¿™é‡Œè¿˜è¦å†æ¬¡è°ƒç”¨async_read_some...
                        }
                    }
                );
            }
        }
    );
}
```

#### åç¨‹æ–¹å¼ï¼š
```cpp
// ğŸ˜ åç¨‹ - åŒæ­¥å†™æ³•ï¼Œå¼‚æ­¥æ‰§è¡Œ
awaitable<void> handle_client_coroutine(tcp::socket socket) {
    char buffer[1024];
    
    for (;;) {
        // ç¬¬1æ­¥ï¼šçœ‹èµ·æ¥æ˜¯åŒæ­¥ï¼Œå®é™…å¼‚æ­¥æ‰§è¡Œ
        size_t bytes = co_await socket.async_read_some(
            boost::asio::buffer(buffer), use_awaitable);
        
        // ç¬¬2æ­¥ï¼šçœ‹èµ·æ¥æ˜¯åŒæ­¥ï¼Œå®é™…å¼‚æ­¥æ‰§è¡Œ
        co_await boost::asio::async_write(
            socket, boost::asio::buffer(buffer, bytes), use_awaitable);
        
        // ç¬¬3æ­¥ï¼šç»§ç»­å¾ªç¯ï¼Œé€»è¾‘æ¸…æ™°
    }
}
```

### 11.2 co_awaitçš„å·¥ä½œåŸç†
```cpp
// å½“æ‚¨å†™ï¼š
size_t bytes = co_await socket.async_read_some(buffer, use_awaitable);

// å®é™…å‘ç”Ÿçš„äº‹æƒ…ï¼š
// 1. ğŸ“¤ å‘èµ·å¼‚æ­¥è¯»å–æ“ä½œ
// 2. ğŸ”„ æš‚åœå½“å‰åç¨‹ï¼Œä¿å­˜å±€éƒ¨å˜é‡çŠ¶æ€
// 3. ğŸ’¤ è®©å‡ºCPUç»™å…¶ä»–åç¨‹/ä»»åŠ¡
// 4. â° å½“æ•°æ®åˆ°è¾¾æ—¶ï¼Œå¼‚æ­¥æ“ä½œå®Œæˆ
// 5. ğŸ”„ æ¢å¤åç¨‹æ‰§è¡Œ
// 6. âœ… è·å–ç»“æœï¼Œç»§ç»­ä¸‹ä¸€è¡Œä»£ç 
```

### 11.3 å…·ä½“ç¤ºä¾‹ï¼šæ–‡ä»¶è¯»å†™æ“ä½œ

#### ä¼ ç»Ÿå¼‚æ­¥æ–¹å¼ï¼š
```cpp
void read_and_process_file(const string& filename) {
    // ğŸ˜µ åµŒå¥—å›è°ƒ
    boost::asio::async_read_file(
        filename,
        [](error_code ec, string content) {
            if (!ec) {
                auto processed = process_content(content);
                boost::asio::async_write_file(
                    "output.txt", processed,
                    [](error_code ec) {
                        if (!ec) {
                            boost::asio::async_send_notification(
                                "å®Œæˆ",
                                [](error_code ec) {
                                    // åˆä¸€å±‚å›è°ƒ...
                                }
                            );
                        }
                    }
                );
            }
        }
    );
}
```

#### åç¨‹æ–¹å¼ï¼š
```cpp
awaitable<void> read_and_process_file(const string& filename) {
    // ğŸ˜ çº¿æ€§æ€ç»´ï¼Œæ¸…æ™°é€»è¾‘
    try {
        // æ­¥éª¤1ï¼šå¼‚æ­¥è¯»å–æ–‡ä»¶ï¼ˆçœ‹èµ·æ¥åŒæ­¥ï¼‰
        string content = co_await async_read_file(filename, use_awaitable);
        
        // æ­¥éª¤2ï¼šå¤„ç†å†…å®¹
        auto processed = process_content(content);
        
        // æ­¥éª¤3ï¼šå¼‚æ­¥å†™å…¥æ–‡ä»¶ï¼ˆçœ‹èµ·æ¥åŒæ­¥ï¼‰
        co_await async_write_file("output.txt", processed, use_awaitable);
        
        // æ­¥éª¤4ï¼šå¼‚æ­¥å‘é€é€šçŸ¥ï¼ˆçœ‹èµ·æ¥åŒæ­¥ï¼‰
        co_await async_send_notification("å®Œæˆ", use_awaitable);
        
        cout << "æ‰€æœ‰æ“ä½œå®Œæˆï¼" << endl;
        
    } catch (const exception& e) {
        cout << "æ“ä½œå¤±è´¥: " << e.what() << endl;
    }
}
```

### 11.4 é‡è¦ç†è§£ï¼šåç¨‹ä¸æ˜¯çœŸçš„åŒæ­¥
```cpp
awaitable<void> demo_coroutine() {
    cout << "å¼€å§‹æ“ä½œ" << endl;
    
    // âš ï¸ è¿™é‡Œçœ‹èµ·æ¥"é˜»å¡"ï¼Œä½†å®é™…ä¸Šï¼š
    // 1. åç¨‹æš‚åœï¼Œé‡Šæ”¾çº¿ç¨‹
    // 2. çº¿ç¨‹å¯ä»¥æ‰§è¡Œå…¶ä»–åç¨‹
    // 3. å¼‚æ­¥æ“ä½œå®Œæˆåï¼Œåç¨‹æ¢å¤
    auto result = co_await slow_async_operation(use_awaitable);
    
    cout << "æ“ä½œå®Œæˆ: " << result << endl;
}

// åŒæ—¶å¯ä»¥è¿è¡Œæˆåƒä¸Šä¸‡ä¸ªè¿™æ ·çš„åç¨‹ï¼
int main() {
    boost::asio::io_context io;
    
    // å¯åŠ¨1000ä¸ªåç¨‹ï¼Œéƒ½ä¸ä¼šé˜»å¡çº¿ç¨‹
    for (int i = 0; i < 1000; ++i) {
        co_spawn(io, demo_coroutine(), detached);
    }
    
    io.run(); // åªéœ€è¦ä¸€ä¸ªçº¿ç¨‹å°±èƒ½å¤„ç†æ‰€æœ‰åç¨‹
}
```

---

## ğŸ“š æ€»ç»“

**åç¨‹ç¡®å®èƒ½æŠŠå¼‚æ­¥æ”¹æˆåŒæ­¥çš„å†™æ³•ï¼**

- âœ… **å†™æ³•åŒæ­¥**ï¼šä»£ç çœ‹èµ·æ¥åƒé¡ºåºæ‰§è¡Œ
- âœ… **æ‰§è¡Œå¼‚æ­¥**ï¼šå®é™…ä¸Šæ˜¯å¼‚æ­¥éé˜»å¡çš„
- âœ… **æ€§èƒ½ä¼˜å¼‚**ï¼šä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œæ”¯æŒé«˜å¹¶å‘
- âœ… **é€»è¾‘æ¸…æ™°**ï¼šé¿å…å›è°ƒåœ°ç‹±ï¼Œå¼‚å¸¸å¤„ç†ç®€å•

åç¨‹æ˜¯ç°ä»£C++å¼‚æ­¥ç¼–ç¨‹çš„æœªæ¥è¶‹åŠ¿ï¼Œç‰¹åˆ«é€‚åˆé«˜å¹¶å‘ã€I/Oå¯†é›†å‹åº”ç”¨ã€‚é€šè¿‡åç¨‹ï¼Œæ‚¨å¯ä»¥ç”¨äººç±»çš„æ€ç»´æ–¹å¼ï¼ˆé¡ºåºé€»è¾‘ï¼‰æ¥ç¼–å†™é«˜æ€§èƒ½çš„å¼‚æ­¥ä»£ç ï¼ğŸš€

---

## ğŸ”§ ç¼–è¯‘å’Œè¿è¡Œ

### ç¼–è¯‘é€‰é¡¹
```bash
g++ -std=c++20 -Wall -O2 -fcoroutines -o Coroutine Coroutine.cpp -lboost_system -lboost_thread -lpthread
```

### å¿…è¦çš„ç¼–è¯‘æ ‡å¿—
- `-std=c++20`: å¯ç”¨C++20æ ‡å‡†
- `-fcoroutines`: å¯ç”¨åç¨‹æ”¯æŒ
- `-lboost_system -lboost_thread -lpthread`: é“¾æ¥å¿…è¦çš„åº“

### VSCodeé…ç½®
åˆ›å»º`.vscode/c_cpp_properties.json`:
```json
{
    "configurations": [
        {
            "name": "Linux",
            "includePath": [
                "${workspaceFolder}/**",
                "/usr/include/boost"
            ],
            "defines": [],
            "compilerPath": "/usr/bin/g++",
            "cStandard": "c17",
            "cppStandard": "c++20",
            "intelliSenseMode": "linux-gcc-x64"
        }
    ],
    "version": 4
}
``` 